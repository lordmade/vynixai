<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Mxit</title>
  <style>
    :root { --mxit-green:#00cc00; --dark:#000; --gray:#1a1a1a; }
    body { margin:0; background:#000; color:#fff; font-family:Arial,Helvetica,sans-serif; overflow:hidden; height:100vh; }
    .header { background:var(--mxit-green); color:#000; padding:8px; text-align:center; font-weight:bold; font-size:18px; position:fixed; top:0; left:0; right:0; z-index:10; }
    .status-bar { background:#003300; color:#00ff00; padding:4px 8px; font-size:12px; text-align:center; }
    .rooms { background:#111; padding:10px 0; overflow-y:auto; height:calc(100vh - 140px); margin-top:50px; }
    .room { padding:12px 16px; border-bottom:1px solid #333; cursor:pointer; }
    .room:hover { background:#222; }
    .room-name { font-weight:bold; color:var(--mxit-green); }
    .room-users { font-size:12px; color:#aaa; }
    .chat { display:none; flex-direction:column; height:100vh; background:#000; }
    .chat-header { background:var(--mxit-green); color:#000; padding:10px; font-weight:bold; text-align:center; font-size:16px; }
    .messages { flex:1; overflow-y:auto; padding:10px; background:#111; }
    .message { margin:8px 0; padding:8px 12px; border-radius:12px; max-width:80%; word-wrap:break-word; }
    .message.me { background:var(--mxit-green); color:#000; align-self:flex-end; border-bottom-right-radius:4px; }
    .message.other { background:#333; color:#fff; align-self:flex-start; border-bottom-left-radius:4px; }
    .username { font-size:11px; color:#00ff00; margin-bottom:4px; }
    .input-area { background:#000; padding:10px; border-top:2px solid var(--mxit-green); display:flex; gap:8px; }
    input[type="text"] { flex:1; background:#222; border:none; color:#fff; padding:12px; border-radius:20px; outline:none; }
    button { background:var(--mxit-green); color:#000; border:none; width:44px; height:44px; border-radius:50%; font-size:20px; cursor:pointer; }
    .typing { color:#666; font-style:italic; padding:0 10px; }
    .emoji-btn { background:transparent; color:#fff; font-size:20px; }
    .back-btn { position:absolute; left:10px; top:8px; background:none; border:none; color:#000; font-size:24px; cursor:pointer; }
    audio { display:none; }
  </style>
</head>
<body>

  <div id="rooms-screen">
    <div class="header">Mxit <span style="font-size:12px;float:right;margin-right:10px;">Online</span></div>
    <div class="status-bar">Welcome back, Guest123 • 1,248 users online</div>
    <div class="rooms">
      <div class="room" onclick="enterRoom('tradepost')">
        <div class="room-name">Tradepost</div>
        <div class="room-users">892 users • "anyone selling airtime?"</div>
      </div>
      <div class="room" onclick="enterRoom('public')">
        <div class="room-name">Public Chat</div>
        <div class="room-users">324 users • "sup Mzansi!"</div>
      </div>
      <div class="room" onclick="enterRoom('friends')">
        <div class="room-name">Friends Only</div>
        <div class="room-users">12 friends online</div>
      </div>
      <div class="room" onclick="enterRoom('flirt')">
        <div class="room-name">Flirt Central</div>
        <div class="room-users">567 users • "single & ready to mingle"</div>
      </div>
    </div>
  </div>

  <div id="chat-screen" class="chat">
    <div class="chat-header">
      <button class="back-btn" onclick="backToRooms()">Back</button>
      <span id="room-title">Tradepost</span>
    </div>
    <div class="messages" id="messages"></div>
    <div class="typing" id="typing"></div>
    <div class="input-area">
      <button class="emoji-btn" onclick="insertEmoji()">Smile</button>
      <input type="text" id="msg-input" placeholder="Type a message..." onkeypress="handleKey(event)">
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <audio id="beep" src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA="></audio>

  <script>
    const rooms = {
      tradepost: { name: "Tradepost", users: ["Thabo", "Lerato", "Sbu", "Zinhle", "Kgomotso"] },
      public: { name: "Public Chat", users: ["MzansiKing", "JoziGirl", "CapeTownDude", "DurbanBoi"] },
      friends: { name: "Friends Only", users: ["Bestie", "Bro", "Sis", "Cuz"] },
      flirt: { name: "Flirt Central", users: ["HotStuff", "SexyBee", "MrRight", "MissPerfect"] }
    };

    let currentRoom = null;
    let myName = "Guest" + Math.floor(Math.random()*9999);

    function enterRoom(roomId) {
      currentRoom = roomId;
      document.getElementById('rooms-screen').style.display = 'none';
      document.getElementById('chat-screen').style.display = 'flex';
      document.getElementById('room-title').textContent = rooms[roomId].name;
      document.getElementById('messages').innerHTML = `
        <div style="text-align:center;color:#666;padding:20px;">
          --- Welcome to ${rooms[roomId].name} ---<br>
          ${rooms[roomId].users.length} users online
        </div>`;
      setTimeout(autoMessage, 2000);
    }

    function backToRooms() {
      document.getElementById('chat-screen').style.display = 'none';
      document.getElementById('rooms-screen').style.display = 'block';
    }

    function sendMessage() {
      const input = document.getElementById('msg-input');
      const msg = input.value.trim();
      if (!msg) return;
      
      addMessage(msg, myName, true);
      input.value = '';
      beep();

      setTimeout(() => {
        const replies = [
          "Lol", "Eish", "Sharp sharp", "Howzit!", "Yebo yes!", "Awe", "Sawubona", "100%", "Fo sho",
          "Heita daar!", "I'm good thanks", "What's good?", "Kwaai!", "Lekker man", "Baie nice"
        ];
        const randomUser = rooms[currentRoom].users[Math.floor(Math.random() * rooms[currentRoom].users.length)];
        const reply = replies[Math.floor(Math.random() * replies.length)];
        addMessage(reply, randomUser, false);
      }, 1000 + Math.random() * 2000);
    }

    function addMessage(text, user, isMe) {
      const div = document.createElement('div');
      div.className = 'message ' + (isMe ? 'me' : 'other');
      div.innerHTML = `<div class="username">${user}</div>${text.replace(/:\)/g, 'Smile').replace(/:\(/g, 'Sad').replace(/<3/g, 'Heart')}`;
      document.getElementById('messages').appendChild(div);
      div.scrollIntoView({ behavior: 'smooth' });
    }

    function handleKey(e) {
      if (e.key === 'Enter') sendMessage();
      showTyping();
    }

    function showTyping() {
      document.getElementById('typing').textContent = "Someone is typing...";
      setTimeout(() => document.getElementById('typing').textContent = "", 3000);
    }

    function insertEmoji() {
      const emojis = [":)", ":(", "<3", "XD", ":P", ";)", ":D", "Smile", "Sad", "Heart"];
      const random = emojis[Math.floor(Math.random() * emojis.length)];
      document.getElementById('msg-input').value += random + " ";
    }

    function autoMessage() {
      if (!currentRoom) return;
      const randomUser = rooms[currentRoom].users[Math.floor(Math.random() * rooms[currentRoom].users.length)];
      const greetings = ["Yo yo!", "Anyone here?", "Sup Mxit!", "Heita!", "Howzit my china?", "Aweeeh!", "Sho sho!"];
      addMessage(greetings[Math.floor(Math.random() * greetings.length)], randomUser, false);
      beep();
    }

    function beep() {
      document.getElementById('beep').play();
    }

    // Auto messages every 10-25 seconds
    setInterval(() => {
      if (currentRoom && Math.random() > 0.6) autoMessage();
    }, 15000);
  </script>
</body>
</html>
