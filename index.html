<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vynix Max • Neon Horizon</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Symbols+Rounded" rel="stylesheet">
  <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
  <link href="https://unpkg.com/@silvermine/videojs-quality-selector/dist/css/quality-selector.css" rel="stylesheet">
  <script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
  <script src="https://unpkg.com/@silvermine/videojs-quality-selector/dist/js/silvermine-videojs-quality-selector.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/videojs-landscape-fullscreen@12.3.0/dist/videojs-landscape-fullscreen.min.js"></script>
  
  <!-- Firebase SDKs (latest compat version as of 2025/2026) -->
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-database-compat.js"></script>

  <style>
    :root {
      --bg: #000;
      --surface: #141414;
      --accent: #e50914;
      --accent-hover: #f40613;
      --text: #fff;
      --text-dim: #b3b3b3;
      --transition: all 0.35s cubic-bezier(0.16, 1, 0.3, 1);
      --card-radius: 10px;
      --shadow: 0 8px 24px rgba(0,0,0,0.55);
      --error: #ff4d4d;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      background:var(--bg);
      color:var(--text);
      font-family:'Inter',sans-serif;
      overflow-x:hidden;
    }
    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      height: 68px;
      padding: 0 4%;
      display: flex;
      align-items: center;
      z-index: 1000;
      transition: background 0.5s ease;
      background: transparent;
    }
    header.scrolled { background: rgba(0,0,0,0.88); backdrop-filter: blur(12px); }
    .header-container { width: 100%; display: flex; align-items: center; justify-content: space-between; }
    .logo {
      font-size: 2.05rem;
      font-weight: 900;
      letter-spacing: -1px;
      background: linear-gradient(90deg, #ffffff 0%, #ffffff 49%, var(--accent) 51%, var(--accent) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .search-container { flex: 1; max-width: 400px; margin: 0 1.8rem; position: relative; }
    .search-pill {
      width: 100%; height: 40px;
      background: rgba(255,255,255,0.09); border: none; border-radius: 999px;
      padding: 0 1.1rem 0 3rem; color: white; font-size: 0.94rem;
      outline: none; transition: var(--transition);
    }
    .search-pill:focus { background: rgba(255,255,255,0.16); box-shadow: 0 0 0 3px rgba(229,9,20,0.28); }
    .search-icon { position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-dim); font-size: 1.35rem; }
    .nav-right img.user-avatar {
      width: 36px; height: 36px; border-radius: 50%;
      border: 2px solid transparent; transition: var(--transition);
    }
    .nav-right img.user-avatar:hover { border-color: var(--accent); transform: scale(1.08); }

    .hero { height: 88vh; min-height: 700px; background-size: cover; background-position: center 30%; position: relative; display: flex; align-items: flex-end; padding-bottom: 10vh; }
    .hero-gradient { position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.08) 0%, rgba(0,0,0,0.38) 40%, rgba(0,0,0,0.88) 78%, #000 100%); }
    .hero-content { position: relative; z-index: 2; padding: 0 5%; max-width: 700px; }
    .hero-maturity-badge { background: var(--accent); color: white; font-weight: 800; font-size: 1.05rem; padding: 0.35rem 0.95rem; border-radius: 5px; display: inline-block; margin-bottom: 1.1rem; }
    .hero-title { font-size: clamp(4.2rem, 11vw, 8rem); font-weight: 900; line-height: 0.93; margin-bottom: 0.7rem; letter-spacing: -1.8px; text-shadow: 0 8px 32px rgba(0,0,0,0.95); }
    .hero-meta { display: flex; gap: 1.8rem; font-size: 1.35rem; font-weight: 600; margin-bottom: 1.4rem; opacity: 0.93; }
    .hero-meta span { display: flex; align-items: center; gap: 0.45rem; }
    .hero-tagline { font-size: 1.4rem; line-height: 1.38; max-width: 600px; margin-bottom: 2.2rem; color: #e8e8e8; }
    .btn { padding: 0.95rem 2.4rem; border-radius: 999px; font-size: 1.25rem; font-weight: 800; transition: var(--transition); cursor: pointer; }
    .btn-play { background: white; color: black; box-shadow: 0 7px 28px rgba(0,0,0,0.48); }
    .btn-play:hover { background: #fcfcfc; transform: scale(1.05); }
    .btn-secondary { background: rgba(109,109,109,0.58); border: 1px solid rgba(255,255,255,0.14); backdrop-filter: blur(8px); }
    .btn-secondary:hover { background: rgba(109,109,109,0.78); border-color: var(--accent); }

    .tabs-container { padding: 0 5%; margin: 2.2rem 0 1.3rem; display: flex; justify-content: center; }
    .tab-buttons { display: flex; background: rgba(255,255,255,0.08); border-radius: 999px; padding: 0.45rem; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); gap: 0.45rem; overflow-x: auto; scrollbar-width: none; }
    .tab-buttons::-webkit-scrollbar { display: none; }
    .tab-btn { padding: 0.85rem 1.9rem; border: none; background: transparent; color: var(--text-dim); font-size: 1.05rem; font-weight: 700; border-radius: 999px; cursor: pointer; transition: var(--transition); white-space: nowrap; }
    .tab-btn.active { background: var(--accent); color: white; box-shadow: 0 4px 14px rgba(229,9,20,0.45); }

    .movie-row { padding: 0 5%; display: flex; gap: 14px; overflow-x: auto; scroll-padding: 5%; padding-bottom: 2.8rem; scroll-snap-type: x proximity; }
    .movie-row::-webkit-scrollbar { display: none; }
    .movie-card { min-width: 160px; aspect-ratio: 2/3; border-radius: var(--card-radius); overflow: hidden; position: relative; cursor: pointer; transition: var(--transition); box-shadow: 0 4px 12px rgba(0,0,0,0.45); }
    .movie-card:hover { transform: scale(1.11) translateY(-10px); box-shadow: var(--shadow), 0 0 0 2.5px rgba(229,9,20,0.35); z-index: 10; }
    .movie-card img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.45s ease; }
    .movie-card:hover img { transform: scale(1.07); }
    .card-bottom { margin-top: 0.6rem; text-align: center; }
    .card-title-visible { font-size: 0.9rem; font-weight: 600; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

    .video-modal { position: fixed; inset: 0; background: #000; display: none; align-items: center; justify-content: center; z-index: 10000; padding: 20px; }
    .video-modal .video-content { position: relative; width: 100%; max-width: 1200px; }
    .video-close { position: absolute; top: -50px; right: 0; background: rgba(0,0,0,0.75); color: white; border: none; border-radius: 50%; width: 48px; height: 48px; font-size: 28px; cursor: pointer; }

    .auth-modal {
      position: fixed; inset: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(8px);
      display: none; align-items: center; justify-content: center; z-index: 11000;
    }
    .auth-box {
      background: #141414; border-radius: 12px; width: 90%; max-width: 420px;
      padding: 2.5rem 2rem; box-shadow: 0 12px 40px rgba(0,0,0,0.8);
      position: relative;
    }
    .auth-box h2 { margin-bottom: 0.5rem; font-size: 1.9rem; font-weight: 800; text-align: center; }
    .auth-box p { color: var(--text-dim); text-align: center; margin-bottom: 1.8rem; }
    .auth-form { display: flex; flex-direction: column; gap: 1rem; }
    .auth-input {
      padding: 1rem; border: 1px solid rgba(255,255,255,0.15);
      background: rgba(255,255,255,0.08); border-radius: 8px; color: white; font-size: 1rem;
    }
    .auth-input:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 3px rgba(229,9,20,0.2); }
    .auth-btn {
      padding: 1rem; border: none; border-radius: 8px; font-size: 1.1rem; font-weight: 700;
      cursor: pointer; transition: all 0.25s;
    }
    .btn-primary { background: var(--accent); color: white; }
    .btn-primary:hover { background: var(--accent-hover); }
    .btn-google {
      background: #4285F4; color: white; display: flex; align-items: center; justify-content: center; gap: 0.8rem;
    }
    .btn-google img { height: 20px; }
    .toggle-auth { color: var(--accent); background: none; border: none; cursor: pointer; font-weight: 600; margin-top: 1rem; }
    .error-msg { color: var(--error); font-size: 0.9rem; text-align: center; min-height: 1.2rem; }
    .close-auth { position: absolute; top: 1rem; right: 1.5rem; background: none; border: none; color: var(--text-dim); font-size: 2rem; cursor: pointer; }
  </style>
</head>
<body>

<header id="mainHeader">
  <div class="header-container">
    <div class="header-left" style="display:flex; align-items:center; gap:1.4rem;">
      <div class="logo">VYNIX MAX</div>
      <div class="search-container">
        <span class="material-symbols-rounded search-icon">search</span>
        <input type="text" class="search-pill" placeholder="Search movies, shows..." id="searchInput">
      </div>
    </div>
    <div class="nav-right">
      <div class="profile-dropdown">
        <button class="avatar-btn" id="avatarBtn">
          <img id="userAvatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=guest" class="user-avatar" alt="User avatar">
        </button>
        <div class="dropdown-menu" id="dropdownMenu">
          <div class="dropdown-header">
            <img id="dropAvatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=guest" alt="User avatar">
            <div>
              <div class="drop-name" id="dropName">Guest User</div>
              <div class="drop-email" id="dropEmail">guest@example.com</div>
            </div>
          </div>
          <ul class="dropdown-list">
            <li><button id="showLoginFromDropdown">Sign In</button></li>
            <li><button id="showSignupFromDropdown">Sign Up</button></li>
            <li class="divider"></li>
            <li><button id="signOutBtn" style="display:none;">Sign Out</button></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<main>
  <section class="hero" id="heroSection">
    <div class="hero-gradient"></div>
    <div class="hero-content">
      <div class="hero-maturity-badge" id="heroBadge">16+</div>
      <h1 class="hero-title" id="heroTitle">Loading...</h1>
      <div class="hero-meta" id="heroMeta"></div>
      <p class="hero-tagline" id="heroDescription">Loading...</p>
      <div class="hero-buttons">
        <button class="btn btn-play" id="heroPlayBtn">
          <span class="material-symbols-rounded">play_arrow</span> Play
        </button>
        <button class="btn btn-secondary">
          <span class="material-symbols-rounded">info</span> More Info
        </button>
      </div>
    </div>
  </section>

  <div class="tabs-container">
    <div class="tab-buttons">
      <button class="tab-btn active" data-tab="continue">Continue Watching</button>
      <button class="tab-btn" data-tab="new">New Releases</button>
      <button class="tab-btn" data-tab="trending">Trending Now</button>
      <button class="tab-btn" data-tab="popular">Popular on Vynix</button>
      <button class="tab-btn" data-tab="search">Search Results</button>
    </div>
  </div>

  <h2 class="section-title" id="sectionTitle" style="display:none;"></h2>
  <div class="movie-row" id="tabContentRow"></div>
</main>

<div id="videoModal" class="video-modal">
  <div class="video-content">
    <button class="video-close"><span class="material-symbols-rounded">close</span></button>
    <video-js id="vynixPlayer" class="video-js vjs-big-play-centered vjs-fluid" controls preload="metadata" playsinline poster=""></video-js>
  </div>
</div>

<div id="authModal" class="auth-modal">
  <div class="auth-box">
    <button class="close-auth">×</button>

    <div id="loginForm" class="auth-form">
      <h2>Sign In</h2>
      <p>Continue watching great content on Vynix Max</p>
      <input type="email" id="loginEmail" class="auth-input" placeholder="Email" required>
      <input type="password" id="loginPassword" class="auth-input" placeholder="Password" required>
      <div id="loginError" class="error-msg"></div>
      <button class="auth-btn btn-primary" id="btnLogin">Sign In</button>
      <button class="auth-btn btn-google" id="btnGoogleLogin">
        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google"> Sign in with Google
      </button>
      <button class="toggle-auth" id="switchToSignup">Don't have an account? Sign Up</button>
    </div>

    <div id="signupForm" class="auth-form" style="display:none;">
      <h2>Create Account</h2>
      <p>Join Vynix Max today</p>
      <input type="text" id="signupName" class="auth-input" placeholder="Full Name" required>
      <input type="email" id="signupEmail" class="auth-input" placeholder="Email" required>
      <input type="password" id="signupPassword" class="auth-input" placeholder="Password" required>
      <div id="signupError" class="error-msg"></div>
      <button class="auth-btn btn-primary" id="btnSignup">Create Account</button>
      <button class="auth-btn btn-google" id="btnGoogleSignup">
        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google"> Sign up with Google
      </button>
      <button class="toggle-auth" id="switchToLogin">Already have an account? Sign In</button>
    </div>
  </div>
</div>

<script>
// Firebase Configuration
const firebaseConfig = {
  apiKey: "AIzaSyBOyZ3As4GTuNvjemvPF_SpsC6m6vqtNhc",
  authDomain: "fire-b-a8878.firebaseapp.com",
  databaseURL: "https://fire-b-a8878.firebaseio.com",
  projectId: "fire-b-a8878",
  storageBucket: "fire-b-a8878.appspot.com",
  messagingSenderId: "658673187627",
  appId: "1:658673187627:web:6e4c29af661785f0afa36e"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();

let player = null;
let currentUser = null;

const authModal = document.getElementById('authModal');
const videoModal = document.getElementById('videoModal');

function initPlayer() {
  if (player) return;
  player = videojs('vynixPlayer', {
    fluid: true,
    responsive: true,
    controls: true,
    autoplay: false,
    preload: 'metadata',
    playbackRates: [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2],
    controlBar: { fullscreenToggle: true, pictureInPictureToggle: true }
  });

  player.controlBar.addChild('QualitySelector');
  player.landscapeFullscreen({
    fullscreen: {
      enterOnRotate: true,
      exitOnRotate: true,
      alwaysInLandscapeMode: true,
      iOS: true
    }
  });
}

function playVideo(src, title, poster = '') {
  if (!currentUser) {
    authModal.style.display = 'flex';
    document.getElementById('loginForm').style.display = 'block';
    document.getElementById('signupForm').style.display = 'none';
    return;
  }

  initPlayer();
  const sources = [
    { src: 'https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4', type: 'video/mp4', label: '720p', selected: true },
    { src: 'https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4', type: 'video/mp4', label: '480p' },
    { src: 'https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4', type: 'video/mp4', label: '360p' }
  ];

  player.src(sources);
  if (poster) player.poster(poster);
  videoModal.style.display = 'flex';
  player.ready(() => player.play().catch(e => console.log("Autoplay blocked:", e)));
}

// Auth form visibility
function showLogin() {
  document.getElementById('loginForm').style.display = 'block';
  document.getElementById('signupForm').style.display = 'none';
  document.getElementById('loginError').textContent = '';
}

function showSignup() {
  document.getElementById('loginForm').style.display = 'none';
  document.getElementById('signupForm').style.display = 'block';
  document.getElementById('signupError').textContent = '';
}

// Login with Email/Password
document.getElementById('btnLogin').addEventListener('click', () => {
  const email = document.getElementById('loginEmail').value.trim();
  const password = document.getElementById('loginPassword').value;
  const errorEl = document.getElementById('loginError');

  if (!email || !password) {
    errorEl.textContent = "Please fill in all fields";
    return;
  }

  auth.signInWithEmailAndPassword(email, password)
    .then(() => { authModal.style.display = 'none'; })
    .catch(err => errorEl.textContent = err.message);
});

// Signup with Email/Password
document.getElementById('btnSignup').addEventListener('click', () => {
  const name = document.getElementById('signupName').value.trim();
  const email = document.getElementById('signupEmail').value.trim();
  const password = document.getElementById('signupPassword').value;
  const errorEl = document.getElementById('signupError');

  if (!name || !email || !password) {
    errorEl.textContent = "Please fill in all fields";
    return;
  }

  auth.createUserWithEmailAndPassword(email, password)
    .then(cred => cred.user.updateProfile({ displayName: name }))
    .then(() => { authModal.style.display = 'none'; })
    .catch(err => errorEl.textContent = err.message);
});

// Google Sign In/Sign Up
document.querySelectorAll('#btnGoogleLogin, #btnGoogleSignup').forEach(btn => {
  btn.addEventListener('click', () => {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider)
      .then(() => { authModal.style.display = 'none'; })
      .catch(err => {
        document.getElementById('loginError').textContent = err.message;
        document.getElementById('signupError').textContent = err.message;
      });
  });
});

// Toggle forms
document.getElementById('switchToSignup').onclick = showSignup;
document.getElementById('switchToLogin').onclick = showLogin;

// Dropdown triggers
document.getElementById('showLoginFromDropdown').onclick = () => {
  authModal.style.display = 'flex';
  showLogin();
};
document.getElementById('showSignupFromDropdown').onclick = () => {
  authModal.style.display = 'flex';
  showSignup();
};

// Sign Out
document.getElementById('signOutBtn').onclick = () => {
  auth.signOut().then(() => location.reload());
};

// Auth state change
auth.onAuthStateChanged(user => {
  currentUser = user;

  if (user) {
    const avatarSeed = user.email || user.uid || 'user';
    const avatarUrl = `https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(avatarSeed)}`;

    document.getElementById('userAvatar').src = avatarUrl;
    document.getElementById('dropAvatar').src = avatarUrl;
    document.getElementById('dropName').textContent = user.displayName || user.email.split('@')[0];
    document.getElementById('dropEmail').textContent = user.email;
    document.getElementById('signOutBtn').style.display = 'block';
  } else {
    document.getElementById('userAvatar').src = "https://api.dicebear.com/7.x/avataaars/svg?seed=guest";
    document.getElementById('dropName').textContent = "Guest User";
    document.getElementById('dropEmail').textContent = "guest@example.com";
    document.getElementById('signOutBtn').style.display = 'none';
  }

  loadContent();
  document.querySelector('.tab-btn.active')?.click();
});

// Close modals
document.querySelector('.close-auth').onclick = () => authModal.style.display = 'none';
authModal.onclick = e => { if (e.target === authModal) authModal.style.display = 'none'; };

document.querySelector('.video-close').onclick = () => {
  videoModal.style.display = 'none';
  if (player) { player.pause(); player.currentTime(0); }
};
videoModal.onclick = e => {
  if (e.target === videoModal) {
    videoModal.style.display = 'none';
    if (player) { player.pause(); player.currentTime(0); }
  }
};

// Hero play button
document.getElementById('heroPlayBtn').onclick = () => {
  if (!currentUser) {
    authModal.style.display = 'flex';
    showLogin();
    return;
  }
  const title = document.getElementById('heroTitle').textContent;
  const poster = document.getElementById('heroSection').style.backgroundImage?.slice(5,-2) || '';
  playVideo('https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4', title, poster);
};

// Content loading
let continueItems = [], newItems = [], trendingItems = [], popularItems = [];

function loadContent() {
  db.ref('/content/hero').on('value', snap => {
    const d = snap.val() || {};
    document.getElementById('heroTitle').innerHTML = d.title || 'NEON HORIZON';
    document.getElementById('heroDescription').textContent = d.description || 'A gripping cyberpunk thriller set in a neon-soaked future where reality bends...';
    document.getElementById('heroBadge').textContent = d.ageRating || '16+';
    document.getElementById('heroMeta').innerHTML = `
      <span><span class="material-symbols-rounded">star</span> ${d.rating||'8.7'}</span>
      <span>${d.year||'2025'}</span>
      <span>${d.duration||'2h 18m'}</span>
    `;
    if (d.backgroundImage) document.getElementById('heroSection').style.backgroundImage = `url(${d.backgroundImage})`;
  });

  const categories = ['continue', 'new', 'trending', 'popular'];
  categories.forEach(cat => {
    db.ref(`/content/${cat}`).on('value', snap => {
      const items = snap.val() ? Object.values(snap.val()) : [];
      window[`${cat}Items`] = items;
      const activeTab = document.querySelector('.tab-btn.active')?.dataset.tab;
      if (activeTab === cat) {
        renderMovieCards('tabContentRow', items, cat === 'new' || cat === 'trending');
      }
    });
  });
}

function renderMovieCards(containerId, items, isCompact = false) {
  const container = document.getElementById(containerId);
  container.innerHTML = items.map((item, index) => `
    <div class="movie-card"
         onclick="playVideo('${item.video || 'https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4'}',
                             '${item.title.replace(/'/g, "\\'")}',
                             '${item.image || ''}')">
      ${isCompact ? `<div class="trending-badge">#${index + 1}</div>` : ''}
      <img src="${item.image || 'https://via.placeholder.com/160x240?text=' + encodeURIComponent(item.title)}"
           alt="${item.title}" loading="lazy">
      <div class="card-bottom">
        <div class="card-title-visible">${item.title}</div>
      </div>
    </div>
  `).join('');
  container.classList.toggle('compact', isCompact);
}

// Tab switching
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById('sectionTitle').style.display = 'none';
    const tab = btn.dataset.tab;
    renderMovieCards('tabContentRow', window[`${tab}Items`] || [], tab === 'new' || tab === 'trending');
  });
});

// Search functionality
const searchInput = document.getElementById('searchInput');
let searchTimeout;
searchInput.addEventListener('input', e => {
  clearTimeout(searchTimeout);
  const query = e.target.value.trim().toLowerCase();
  searchTimeout = setTimeout(() => {
    if (!query) return document.querySelector('.tab-btn[data-tab="continue"]').click();

    const all = [...(window.continueItems||[]), ...(window.newItems||[]), ...(window.trendingItems||[]), ...(window.popularItems||[])];
    const results = all.filter(i => i.title?.toLowerCase().includes(query));

    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.querySelector('.tab-btn[data-tab="search"]').classList.add('active');
    document.getElementById('sectionTitle').textContent = `Search results for "${query}"`;
    document.getElementById('sectionTitle').style.display = 'block';
    renderMovieCards('tabContentRow', results, false);
  }, 400);
});

// Profile dropdown toggle
document.getElementById('avatarBtn').onclick = e => {
  e.stopPropagation();
  document.getElementById('dropdownMenu').classList.toggle('show');
};
window.onclick = e => {
  if (!e.target.closest('.profile-dropdown')) document.getElementById('dropdownMenu').classList.remove('show');
};

window.onscroll = () => document.querySelector('header').classList.toggle('scrolled', window.scrollY > 50);
</script>
</body>
</html>
