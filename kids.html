<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>AlphaPal • ABC, 123 & Shapes</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Fredoka:wght@500;600;700&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { -webkit-touch-callout: none; -webkit-user-select: none; user-select: none; }
    body {
      font-family: 'Fredoka', sans-serif;
      background: linear-gradient(135deg, #fde68a 0%, #c084fc 50%, #a5f3fc 100%);
      min-height: 100dvh;
      margin: 0;
      overflow: hidden;
      touch-action: manipulation;
    }
    h1, h2, .big { font-family: 'Fredoka One', sans-serif; }
    .rainbow {
      background: linear-gradient(90deg, #ff6bcb, #ff9d80, #ffd580, #a0e7ff, #9fffcb, #ff6bcb);
      background-size: 300%;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: rainbow 12s linear infinite;
    }
    @keyframes rainbow { 0% { background-position: 0%; } 100% { background-position: 300%; } }
    .glass { background: rgba(255,255,255,0.35); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.6); }
    .btn { min-width: 100px; min-height: 80px; transition: all 0.25s; }
    .btn:active { transform: scale(0.92); }
    .float { animation: float 5s ease-in-out infinite; }
    @keyframes float { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
    .sparkle { animation: sparkle 1.8s infinite; }
    @keyframes sparkle { 0%,100% { transform: scale(1); } 50% { transform: scale(1.3) rotate(10deg); } }
    .confetti { position: fixed; width: 16px; height: 16px; pointer-events: none; z-index: 9999; animation: fall 4s linear forwards; }
    @keyframes fall { 0% { transform: translateY(-100px) rotate(0); opacity: 1; } 100% { transform: translateY(110vh) rotate(1080deg); opacity: 0; } }
    .bounce { animation: bounce 3s infinite; }
    @keyframes bounce { 0%,100% { transform: translateY(0) rotate(-5deg); } 50% { transform: translateY(-30px) rotate(5deg); } }
    .star { transition: all 0.6s; }
    .star.earned { transform: scale(1.6) rotate(360deg); filter: drop-shadow(0 0 20px gold); }
    canvas { border-radius: 2.5rem; box-shadow: 0 20px 40px rgba(0,0,0,0.25); }
  </style>
</head>
<body class="flex flex-col text-gray-900">

  <!-- Mascot -->
  <div id="mascot" class="fixed top-4 left-4 w-32 h-32 z-50 bounce opacity-0">
    <svg viewBox="0 0 120 120" class="drop-shadow-2xl">
      <circle cx="60" cy="60" r="55" fill="#ff6bcb"/>
      <circle cx="40" cy="48" r="12" fill="white"/>
      <circle cx="80" cy="48" r="12" fill="white"/>
      <circle cx="37" cy="45" r="7" fill="black"/>
      <circle cx="77" cy="45" r="7" fill="black"/>
      <path d="M35 75 Q60 100 85 75" stroke="#ff1493" stroke-width="9" fill="none" stroke-linecap="round"/>
      <circle cx="25" cy="30" r="15" fill="#ffaecb"/>
      <circle cx="95" cy="30" r="15" fill="#ffaecb"/>
    </svg>
  </div>

  <!-- Header -->
  <header class="text-center pt-8 pb-4 z-10">
    <h1 class="text-6xl font-bold rainbow sparkle">AlphaPal</h1>
    <p class="text-3xl text-purple-800 font-bold mt-2">Learn with Fun!</p>

    <div class="mt-12 flex justify-center gap-8 px-6">
      <button id="modeABC" class="btn active px-16 py-8 bg-gradient-to-br from-purple-500 to-pink-500 text-white text-4xl rounded-3xl shadow-2xl font-bold">ABC</button>
      <button id="mode123" class="btn px-16 py-8 bg-gradient-to-br from-cyan-500 to-blue-600 text-white text-4xl rounded-3xl shadow-2xl font-bold opacity-70">123</button>
      <button id="modeShapes" class="btn px-16 py-8 bg-gradient-to-br from-green-500 to-teal-600 text-white text-4xl rounded-3xl shadow-2xl font-bold opacity-70">Shapes</button>
    </div>
  </header>

  <!-- Stars -->
  <div class="flex justify-center gap-6 my-6">
    <span class="star text-7xl">Star</span>
    <span class="star text-7xl">Star</span>
    <span class="star text-7xl">Star</span>
    <span class="star text-7xl">Star</span>
    <span class="star text-7xl">Star</span>
  </div>
  <p id="progressText" class="text-center text-2xl font-bold text-purple-700 mb-4">Swipe left for next!</p>

  <!-- Main Content -->
  <main id="main" class="flex-1 flex flex-col items-center justify-center px-6">
    <div class="text-center space-y-10">
      <div id="display" class="big text-28vw font-black sparkle" style="color:#ff6bcb">A</div>
      <h2 id="word" class="text-7xl font-bold text-purple-800 drop-shadow-2xl">apple</h2>
      <img id="image" src="" alt="" class="w-80 h-80 mx-auto float rounded-3xl shadow-2xl bg-white p-8 object-contain">
      <p id="funFact" class="text-2xl font-bold text-blue-700 italic bg-white/70 glass rounded-3xl px-8 py-4 mx-6 hidden"></p>
    </div>
  </main>

  <!-- Drawing Screen -->
  <div id="drawScreen" class="hidden fixed inset-0 bg-gradient-to-br from-pink-300 via-purple-300 to-cyan-300 flex flex-col items-center justify-center z-50 p-6">
    <canvas id="canvas" class="w-full aspect-square glass"></canvas>

    <div class="mt-10 flex flex-wrap justify-center gap-8">
      <button class="crayon w-20 h-20 rounded-full shadow-2xl border-6 border-white" data-color="#ff1493" style="background:#ff1493"></button>
      <button class="crayon w-20 h-20 rounded-full shadow-2xl border-6 border-white" data-color="#ff6bcb" style="background:#ff6bcb"></button>
      <button class="crayon w-20 h-20 rounded-full shadow-2xl border-6 border-white" data-color="#ff9d00" style="background:#ff9d00"></button>
      <button class="crayon w-20 h-20 rounded-full shadow-2xl border-6 border-white" data-color="#ffed4e" style="background:#ffed4e"></button>
      <button class="crayon w-20 h-20 rounded-full shadow-2xl border-6 border-white" data-color="#4eff7b" style="background:#4eff7b"></button>
      <button class="crayon w-20 h-20 rounded-full shadow-2xl border-6 border-white" data-color="#4e9fff" style="background:#4e9fff"></button>
      <button class="crayon w-20 h-20 rounded-full shadow-2xl border-6 border-white" data-color="#9c4eff" style="background:#9c4eff"></button>
      <button class="crayon w-20 h-20 rounded-full shadow-2xl border-6 border-white" data-color="#000" style="background:#000"></button>
    </div>

    <div class="mt-12 flex gap-8 flex-wrap justify-center">
      <button id="modeTrace" class="px-16 py-8 bg-purple-600 text-white text-4xl rounded-3xl shadow-2xl font-bold active">Trace</button>
      <button id="modeColor" class="px-16 py-8 bg-pink-600 text-white text-4xl rounded-3xl shadow-2xl font-bold opacity-70">Color</button>
      <button id="undoBtn" class="px-16 py-8 bg-blue-600 text-white text-4xl rounded-3xl shadow-2xl font-bold">Undo</button>
      <button id="clearBtn" class="px-16 py-8 bg-red-600 text-white text-4xl rounded-3xl shadow-2xl font-bold">Clear</button>
    </div>

    <p class="mt-12 text-white text-3xl font-bold bg-black/40 rounded-full px-10 py-5">Swipe down to go back</p>
  </div>

  <!-- Audio -->
  <audio id="pop" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3"></audio>
  <audio id="sparkleSound" src="https://assets.mixkit.co/sfx/preview/mixkit-magical-coin-win-1937.mp3"></audio>
  <audio id="scribble" src="https://assets.mixkit.co/sfx/preview/mixkit-pencil-writing-fast-3343.mp3"></audio>
  <audio id="celebration" src="https://assets.mixkit.co/sfx/preview/mixkit-game-show-won-3110.mp3"></audio>
  <audio id="bgMusic" loop src="https://assets.mixkit.co/music/preview/mixkit-optimistic-children-background-2490.mp3"></audio>

  <script>
    // COMPLETE DATA - 26 Letters, 10 Numbers, 9 Shapes
    const letters = [
      {l:"A",s:"ă",w:"apple",e:"1f34e",fact:"Apples float because they're 25% air!"},
      {l:"B",s:"b",w:"ball",e:"26bd",fact:"Balls can bounce super high!"},
      {l:"C",s:"k",w:"cat",e:"1f408",fact:"Cats sleep 16 hours a day!"},
      {l:"D",s:"d",w:"dog",e:"1f436",fact:"Dogs wag their tails when happy!"},
      {l:"E",s:"ĕ",w:"elephant",e:"1f418",fact:"Elephants never forget!"},
      {l:"F",s:"f",w:"fish",e:"1f41f",fact:"Fish can swim backwards!"},
      {l:"G",s:"g",w:"giraffe",e:"1f992",fact:"Giraffes have purple tongues!"},
      {l:"H",s:"h",w:"house",e:"1f3e0",fact:"Houses keep us safe and cozy!"},
      {l:"I",s:"ĭ",w:"ice cream",e:"1f366",fact:"Ice cream makes everyone smile!"},
      {l:"J",s:"j",w:"jellyfish",e:"1fabc",fact:"Jellyfish have lived for millions of years!"},
      {l:"K",s:"k",w:"kite",e:"1fa81",fact:"Kites can fly higher than planes!"},
      {l:"L",s:"l",w:"lion",e:"1f981",fact:"A lion's roar is super loud!"},
      {l:"M",s:"m",w:"monkey",e:"1f412",fact:"Monkeys love bananas!"},
      {l:"N",s:"n",w:"nest",e:"1faba",fact:"Birds build cozy nests!"},
      {l:"O",s:"ŏ",w:"octopus",e:"1f419",fact:"Octopuses have 3 hearts!"},
      {l:"P",s:"p",w:"penguin",e:"1f427",fact:"Penguins slide on their bellies!"},
      {l:"Q",s:"kw",w:"queen",e:"1f451",fact:"Queen bees rule the hive!"},
      {l:"R",s:"r",w:"rainbow",e:"1f308",fact:"Rainbows have 7 colors!"},
      {l:"S",s:"s",w:"sun",e:"2600",fact:"The Sun is a giant star!"},
      {l:"T",s:"t",w:"tiger",e:"1f405",fact:"Tigers have striped skin!"},
      {l:"U",s:"ŭ",w:"umbrella",e:"2602",fact:"Umbrellas keep us dry!"},
      {l:"V",s:"v",w:"violin",e:"1f3bb",fact:"Violins make beautiful music!"},
      {l:"W",s:"w",w:"watermelon",e:"1f349",fact:"Watermelon is 92% water!"},
      {l:"X",s:"ks",w:"xylophone",e:"1fa95",fact:"Xylophones make fun sounds!"},
      {l:"Y",s:"y",w:"yak",e:"1f402",fact:"Yaks live in snowy mountains!"},
      {l:"Z",s:"z",w:"zebra",e:"1f993",fact:"Every zebra has unique stripes!"}
    ];

    const numbers = [
      {n:"1",w:"one",e:"1f44d",c:"#ff6bcb",fact:"One is the first number!"},
      {n:"2",w:"two",e:"1f44c",c:"#ff9d9d",fact:"We have two eyes!"},
      {n:"3",w:"three",e:"1f64c",c:"#ffb380",fact:"Triangles have 3 sides!"},
      {n:"4",w:"four",e:"1f919",c:"#ffed80",fact:"Squares have 4 sides!"},
      {n:"5",w:"five",e:"1f44c",c:"#bfff80",fact:"You have 5 fingers per hand!"},
      {n:"6",w:"six",e:"1f44a",c:"#80ffea",fact:"Honeycombs have 6 sides!"},
      {n:"7",w:"seven",e:"1f44b",c:"#80d4ff",fact:"Rainbows have 7 colors!"},
      {n:"8",w:"eight",e:"1f44f",c:"#c780ff",fact:"Spiders have 8 legs!"},
      {n:"9",w:"nine",e:"1f44f",c:"#ff80c7",fact:"Cats have 9 lives!"},
      {n:"10",w:"ten",e:"1f389",c:"#ffd580",fact:"You have 10 fingers!"}
    ];

    const shapes = [
      {name:"Circle", speak:"This is a circle!", path:d=>`M${d} ${d*0.3} a ${d*0.7} ${d*0.7} 0 1 1 0.1 0 a ${d*0.7} ${d*0.7} 0 1 1 -0.1 0`, color:"#ff6bcb", fact:"Circles roll and have no corners!"},
      {name:"Triangle", speak:"This is a triangle!", path:d=>`M${d} ${d*0.3} L${d*1.7} ${d*1.7} L${d*0.3} ${d*1.7} Z`, color:"#4e9fff", fact:"Triangles are super strong!"},
      {name:"Square", speak:"This is a square!", path:d=>`M${d*0.3} ${d*0.3} h${d*1.4} v${d*1.4} h-${d*1.4} Z`, color:"#ff9d00", fact:"Squares have 4 equal sides!"},
      {name:"Rectangle", speak:"This is a rectangle!", path:d=>`M${d*0.2} ${d*0.6} h${d*1.6} v${d*0.8} h-${d*1.6} Z`, color:"#9c4eff", fact:"Books are rectangles!"},
      {name:"Star", speak:"This is a star!", path:d=>`M${d} ${d*0.2} L${d*1.15} ${d*0.8} L${d*1.8} ${d*0.8} L${d*1.3} ${d*1.3} L${d*1.5} ${d*1.9} L${d} ${d*1.5} L${d*0.5} ${d*1.9} L${d*0.7} ${d*1.3} L${d*0.2} ${d*0.8} L${d*0.85} ${d*0.8} Z`, color:"#ffed4e", fact:"Stars twinkle in the sky!"},
      {name:"Heart", speak:"This is a heart!", path:d=>`M${d} ${d*1.3} Q${d*0.2} ${d*0.6} ${d*0.5} ${d*0.4} Q${d*0.85} ${d*0.2} ${d} ${d*0.6} Q${d*1.15} ${d*0.2} ${d*1.5} ${d*0.4} Q${d*1.8} ${d*0.6} ${d} ${d*1.3} Z`, color:"#ff1493", fact:"Hearts mean love!"},
      {name:"Diamond", speak:"This is a diamond!", path:d=>`M${d} ${d*0.4} L${d*1.6} ${d} L${d} ${d*1.6} L${d*0.4} ${d} Z`, color:"#4eff7b", fact:"Diamonds are the hardest!"},
      {name:"Pentagon", speak:"This is a pentagon!", path:d=>`M${d} ${d*0.4} L${d*1.55} ${d*0.75} L${d*1.35} ${d*1.5} L${d*0.65} ${d*1.5} L${d*0.45} ${d*0.75} Z`, color:"#ffaecb", fact:"Pentagons have 5 sides!"},
      {name:"Hexagon", speak:"This is a hexagon!", path:d=>`M${d*1.3} ${d*0.5} L${d*1.7} ${d} L${d*1.3} ${d*1.5} L${d*0.7} ${d*1.5} L${d*0.3} ${d} L${d*0.7} ${d*0.5} Z`, color:"#80d4ff", fact:"Bees love hexagons!"}
    ];

    // State
    let mode = "abc", idx = 0, drawMode = "color", color = "#ff1493";
    let progress = {abc:0, num:0, shapes:0}, undoStack = [];

    // Elements
    const display = document.getElementById('display');
    const word = document.getElementById('word');
    const image = document.getElementById('image');
    const fact = document.getElementById('funFact');
    const mascot = document.getElementById('mascot');
    const main = document.getElementById('main');
    const draw = document.getElementById('drawScreen');
    const stars = document.querySelectorAll('.star');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    // Audio & Speech
    const play = (id, vol=1) => {
      const a = document.getElementById(id);
      if(a) { a.currentTime = 0; a.volume = vol; a.play().catch(()=>{}); }
    };
    const speak = (text, rate=0.85, pitch=1.5) => {
      const u = new SpeechSynthesisUtterance(text);
      u.rate = rate; u.pitch = pitch;
      speechSynthesis.cancel();
      speechSynthesis.speak(u);
    };

    // Celebration
    const celebrate = () => {
      play('celebration', 0.6);
      for(let i = 0; i < 60; i++) {
        setTimeout(() => {
          const c = document.createElement('div');
          c.className = 'confetti';
          c.style.left = Math.random() * 100 + 'vw';
          c.style.background = `hsl(${Math.random()*360},90%,65%)`;
          document.body.appendChild(c);
          setTimeout(() => c.remove(), 4000);
        }, i * 70);
      }
    };

    // Progress
    const updateProgress = () => {
      const key = mode === 'abc' ? 'abc' : mode === '123' ? 'num' : 'shapes';
      progress[key]++;
      const total = progress.abc + progress.num + progress.shapes;
      stars.forEach((s,i) => s.classList.toggle('earned', i < total));
      if(total >= 5) {
        setTimeout(() => {
          celebrate();
          speak("You're a superstar! All stars earned!");
        }, 800);
      }
    };

    // Show current item
    const show = () => {
      play('sparkleSound', 0.5);
      const item = mode==="abc" ? letters[idx] : mode==="123" ? numbers[idx] : shapes[idx];

      display.textContent = mode==="shapes" ? item.name : (item.l || item.n);
      word.textContent = mode==="shapes" ? "Shape!" : (item.w || item.w);
      display.style.color = mode==="abc" ? `hsl(${idx*14},90%,60%)` : item.c || item.color;

      if(mode !== "shapes"){
        image.src = `https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${item.e}.svg`;
        image.style.display = "block";
      } else {
        image.style.display = "none";
      }

      fact.textContent = "Did you know? " + item.fact;
      fact.classList.remove('hidden');

      setTimeout(() => {
        if(mode==="abc") speak(`${item.l} says ${item.s} as in ${item.w}`);
        else if(mode==="123") speak(`${item.n} is ${item.w}`);
        else speak(item.speak);
      }, 500);
    };

    // Mode switch
    const setMode = (m) => {
      mode = m; idx = 0;
      ['modeABC','mode123','modeShapes'].forEach(id => {
        const b = document.getElementById(id);
        b.classList.toggle('active', id===`mode${m.charAt(0).toUpperCase() + m.slice(1)}`);
        b.style.opacity = id===`mode${m.charAt(0).toUpperCase() + m.slice(1)}` ? '1' : '0.7';
      });
      show();
    };

    // Touch gestures
    let sx = 0, sy = 0;
    const touchStart = e => { sx = e.touches[0].clientX; sy = e.touches[0].clientY; };
    const touchEnd = e => {
      const dx = e.changedTouches[0].clientX - sx;
      const dy = e.changedTouches[0].clientY - sy;

      if(Math.abs(dx) < 40 && Math.abs(dy) < 40){
        const item = mode==="abc"?letters[idx]:mode==="123"?numbers[idx]:shapes[idx];
        if(mode==="abc") speak(`${item.l} ... ${item.s} ... ${item.w}`);
        else if(mode==="123") speak(`${item.n} is ${item.w}`);
        else speak(item.speak);
        play('pop');
        return;
      }

      if(dx < -60){
        idx = (idx + 1) % (mode==="abc"?26:mode==="123"?10:9);
        show();
        updateProgress();
      } else if(dx > 60){
        idx = (idx - 1 + (mode==="abc"?26:mode==="123"?10:9)) % (mode==="abc"?26:mode==="123"?10:9);
        show();
      } else if(dy < -80 && draw.classList.contains('hidden')){
        draw.classList.remove('hidden');
        main.classList.add('hidden');
        resizeCanvas();
        drawGuide();
      } else if(dy > 80 && !draw.classList.contains('hidden')){
        draw.classList.add('hidden');
        main.classList.remove('hidden');
        if(drawMode==='trace') { celebrate(); updateProgress(); speak("Great tracing!"); }
      }
    };

    main.addEventListener('touchstart', touchStart, {passive:true});
    main.addEventListener('touchend', touchEnd);
    draw.addEventListener('touchstart', touchStart, {passive:true});
    draw.addEventListener('touchend', touchEnd);

    // Drawing
    const resizeCanvas = () => {
      const r = canvas.getBoundingClientRect();
      canvas.width = r.width * devicePixelRatio;
      canvas.height = r.height * devicePixelRatio;
      ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
      drawGuide();
    };
    window.addEventListener('resize', resizeCanvas);

    const drawGuide = () => {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      if(drawMode !== "trace") return;

      const size = Math.min(canvas.width, canvas.height) * 0.7;
      const cx = canvas.width / 2 / devicePixelRatio;
      const cy = canvas.height / 2 / devicePixelRatio;

      ctx.strokeStyle = 'rgba(0,0,0,0.1)';
      ctx.lineWidth = 30;
      ctx.lineCap = 'round';

      if(mode!=="shapes"){
        ctx.font = `bold ${size*1.4}px Fredoka One`;
        ctx.fillStyle = 'rgba(0,0,0,0.1)';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(mode==="abc"?letters[idx].l : numbers[idx].n, cx, cy);
      } else {
        const path = new Path2D(shapes[idx].path(size/2));
        ctx.translate(cx, cy);
        ctx.stroke(path);
        ctx.translate(-cx, -cy);
      }
    };

    let drawing = false;
    canvas.addEventListener('touchstart', e => {
      drawing = true;
      const r = canvas.getBoundingClientRect();
      ctx.beginPath();
      ctx.moveTo(e.touches[0].clientX - r.left, e.touches[0].clientY - r.top);
    });
    canvas.addEventListener('touchmove', e => {
      if(!drawing) return;
      e.preventDefault();
      const r = canvas.getBoundingClientRect();
      const x = e.touches[0].clientX - r.left;
      const y = e.touches[0].clientY - r.top;
      ctx.globalAlpha = drawMode==='trace'?0.9:1;
      ctx.lineWidth = 28;
      ctx.strokeStyle = color;
      ctx.lineTo(x,y);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(x,y);
      play('scribble', 0.2);
    });
    canvas.addEventListener('touchend', () => {
      if(drawing){
        drawing = false;
        undoStack.push(canvas.toDataURL());
        if(undoStack.length>15) undoStack.shift();
      }
    });

    // Controls
    document.querySelectorAll('.crayon').forEach(b => {
      b.onclick = () => {
        document.querySelectorAll('.crayon').forEach(x => x.classList.remove('ring-8','ring-white'));
        b.classList.add('ring-8','ring-white');
        color = b.dataset.color;
        play('pop');
      });
    });
    document.querySelector('.crayon').classList.add('ring-8','ring-white');

    document.getElementById('modeTrace').onclick = () => { drawMode="trace"; drawGuide(); };
    document.getElementById('modeColor').onclick = () => { drawMode="color"; ctx.clearRect(0,0,canvas.width,canvas.height); };
    document.getElementById('undoBtn').onclick = () => {
      if(undoStack.length>0){
        undoStack.pop();
        const img = new Image();
        img.src = undoStack[undoStack.length-1] || '';
        img.onload = () => ctx.drawImage(img,0,0);
      }
    };
    document.getElementById('clearBtn').onclick = () => {
      undoStack = [];
      ctx.clearRect(0,0,canvas.width,canvas.height);
      drawGuide();
    };

    // Start
    window.onload = () => {
      resizeCanvas();
      show();
      mascot.style.opacity = "1";
      speak("Hi! I'm AlphaPal! Swipe left for next, tap to hear me!");
      setTimeout(() => {
        if(confirm("Play happy music?")) {
          document.getElementById('bgMusic').volume = 0.25;
          document.getElementById('bgMusic').play();
        }
      }, 3000);
    };

    // Mode buttons
    document.getElementById('modeABC').onclick = () => setMode('abc');
    document.getElementById('mode123').onclick = () => setMode('123');
    document.getElementById('modeShapes').onclick = () => setMode('shapes');

    // Open drawing from main screen
    display.onclick = image.onclick = () => {
      draw.classList.remove('hidden');
      main.classList.add('hidden');
      resizeCanvas();
      drawGuide();
    };
  </script>
</body>
</html>
